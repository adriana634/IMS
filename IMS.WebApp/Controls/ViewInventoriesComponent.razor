@using IMS.CoreBusiness
@inject IViewInventoriesByNameUseCase ViewInventoriesByNameUseCase

<SearchComponent Placeholder="Type inventory name here to search" ActionText="View" OnSearch="ViewInventories"></SearchComponent>

@code {
    [Parameter]
    public EventCallback<List<Inventory>> OnSearchInventories { get; set; }

    private async Task ViewInventories(string inventoryNameToSearch)
    {
        string searchParameter = inventoryNameToSearch ?? "";
        List<Inventory>? inventories = (await ViewInventoriesByNameUseCase
            .ExecuteAsync(searchParameter))?.ToList();
        
        await OnSearchInventories.InvokeAsync(inventories);
    }
}